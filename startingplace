Replicate and modernize County Health Rankings & Roadmaps data tool, but in a way that's free, self-hosted, and sustainable using R Shiny, GitHub for versioned data/scripts, and possibly APIs or scrapers for the latest data.

Step-by-step plan via ChatGPT: (starting place) 

## ğŸ”§ GOALS

1. **Create a Shiny app** that:

   * Lets users select a **year** and a **county**.
   * Shows a snapshot of county-level health metrics.
   * For the **most recent year**, pulls fresh data from the web and computes measures using scripts in your GitHub repo.
   * For **prior years**, pulls stored, versioned data from GitHub.

2. Ensure the app is **self-sustaining post-grant**:

   * Hosted on a free/low-cost platform (e.g., Shinyapps.io free tier or self-hosted).
   * Automated data updates.
   * Easy to maintain and update.

---

## ğŸ—‚ï¸ FILE & REPO STRUCTURE

**GitHub Repository:**

```
county-health-dashboard/
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ 2025/
â”‚   â”œâ”€â”€ 2024/
â”‚   â”œâ”€â”€ 2023/
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ get_latest_data.R      # Scrapes/pulls latest data
â”‚   â”œâ”€â”€ calculate_metrics.R    # Applies metric calculations
â”‚   â””â”€â”€ utils.R
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ app.R                  # Shiny app main file
â”‚   â”œâ”€â”€ ui.R
â”‚   â””â”€â”€ server.R
â”‚
â”œâ”€â”€ README.md
â””â”€â”€ .gitignore
```

---

## ğŸ–¥ï¸ SHINY APP FUNCTIONALITY

### UI

* Dropdown to **select year** (e.g., 2023, 2024, "Latest").
* Dropdown to **select county**.
* Display:

  * Snapshot cards (e.g., health outcomes, behaviors, clinical care).
  * Visualizations (e.g., bar charts, trend lines).
  * Contextual explanations.

### Server

* If `"Latest"` is selected:

  * Run `get_latest_data.R` to download fresh data.
  * Run `calculate_metrics.R` to process it.
* If prior year selected:

  * Load pre-processed `.csv` or `.rds` from `/data/<year>/`.
* Display data accordingly.

---

## âš™ï¸ AUTOMATION STRATEGY

### ğŸ”„ "Latest" Workflow

1. **On-demand** (when â€œLatestâ€ is selected), run:

   * `get_latest_data.R`: Fetches fresh data from source websites/APIs.
   * `calculate_metrics.R`: Applies formulas and calculations.
2. Store data temporarily in memory (no need to write unless caching).

### ğŸ•’ Scheduled GitHub Actions (Optional)

* Set up GitHub Actions to:

  * Run `get_latest_data.R` weekly/monthly.
  * Commit the resulting files into `data/<year>/`.
  * Helps with reproducibility and avoids repeated scraping.

---

## ğŸŒ DATA SOURCES

Use APIs or scraping scripts for:

* CDC WONDER
* BRFSS
* Census Bureau
* CMS (Medicare)
* HRSA
* Others used by CHR\&R

You should clearly **document each source** in your GitHub repo, ideally in a `data_sources.md`.

---

## ğŸ’° COST & SUSTAINABILITY

### Low/No Cost Options:

* **Shinyapps.io (free tier):** Limited hours/month; works for low-traffic dashboards.
* **Self-host on RStudio Server / Posit Open Source Server:** Can host internally if you have IT support.
* **Docker-based hosting** on cloud VMs (optional, more technical).

---

## ğŸ“Œ MVP CHECKLIST

| Feature                             | Status       |
| ----------------------------------- | ------------ |
| Shiny app skeleton                  | â˜            |
| Dropdown UI: year + county          | â˜            |
| Load historical data from GitHub    | â˜            |
| Automate latest data collection     | â˜            |
| Metric calculation scripts          | â˜            |
| Snapshot visualizations             | â˜            |
| Hosting platform decided            | â˜            |
| GitHub Action for scheduled updates | â˜ (optional) |

---

## âœ… NEXT STEPS

1. âœ… Audit all metrics you need (health factors, outcomes, etc.)
2. âœ… List all data sources needed and their format (API/scrape/download).
3. âœ… Organize historical data into GitHub folder by year.
4. âœ… Build Shiny UI (dropdowns + basic layout).
5. âœ… Connect server logic to load historical data.
6. âœ… Build web-scraper + metric calculator script for â€œlatestâ€ data.
7. âœ… Test & deploy a prototype.
8. âœ… Write documentation (README, instructions for future maintainers).

---

## ğŸš€ BONUS (for long-term sustainability)

* Add download button to export snapshot (PDF, CSV).
* Enable map-based county selection.
* Add tooltips or glossary of health indicators.
